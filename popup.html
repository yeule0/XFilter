<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <meta name="color-scheme" content="light dark">
  <title>XFilter Settings</title>
</head>
<body>
  <main class="container">
    <button id="themeBtn">
      <i id="theme-icon" class="bi bi-sun-fill"></i>
    </button>

    <section>
        <hgroup>
            <h4>Filtering</h4>
            <p>Hide tweets based on criteria.</p>
        </hgroup>
        <div>
            <label for="flags">Flags to hide (e.g., üá∫üá∏, üè≥Ô∏è‚Äçüåà)</label>
            <input type="text" id="flags" placeholder="Separate flags with commas">
        </div>
        <div>
            <label for="words">Words in name to hide (e.g., crypto, bot)</label>
            <input type="text" id="words" placeholder="Separate words with commas">
        </div>
        <div>
            <label><input type="checkbox" id="filterAds"> Hide promoted posts ("Ad")</label>
        </div>
    </section>

    <hr>

    <section>
        <hgroup>
            <h4>Appearance & Layout</h4>
            <p>Customize the look and feel.</p>
        </hgroup>
        <div>
            <label><input type="checkbox" id="ircMode"> IRC Mode (Text-only, hide media)</label>
        </div>
        <div>
            <label><input type="checkbox" id="hideRightSection"> Hide Right Sidebar</label>
        </div>
        <div>
            <label for="bgColor">Custom Background Color</label>
            <input type="color" id="bgColor" value="#ffffff">
            <button id="resetBg" class="secondary outline">Reset Background</button>
        </div>
    </section>

    <hr>

    <section>
        <hgroup>
            <h4>Semantic Reordering (Beta)</h4>
            <p>Reorder timeline based on relevance to your interests. Uses local AI.</p>
        </hgroup>
        <div>
            <label><input type="checkbox" id="enableReordering"> Enable Semantic Reordering</label>
        </div>
        <div>
            <label for="interestKeywords">Interest Keywords (e.g., AI, space, history)</label>
            <input type="text" id="interestKeywords" placeholder="Separate keywords with commas">
             <small>Tweets matching these topics will appear higher.</small>
        </div>
    </section>

    <button id="save">Save Settings</button>
  </main>
  <script src="popup.js"></script>
</body>
<style>
  body { min-width: 450px; } /* Increased width for more content */
  main { position: relative; }
  #themeBtn { position: absolute; padding: 0; height: 2rem!important; width: 2rem!important; top: 0.5rem; right: 0.5rem; display: flex; justify-content: center; border-radius: 100%; align-items: center; }
  html[data-theme='dark'] #themeBtn { background-color: #f4f4f4; color: #111; }
  html[data-theme='light'] #themeBtn { background-color: #111111; color: #fff; }
  #save { width: 100%; margin-top: 1rem; margin-bottom: 1rem; }
  #resetBg { margin-top: 0.25rem; width: 100%; }
  section { margin-bottom: 1rem; }
  h4 { margin-bottom: 0.5rem; }
  label { margin-bottom: 0.25rem; display: block;}
  input[type="text"], input[type="color"] { margin-bottom: 0.5rem; }
  hr { margin-top: 1rem; margin-bottom: 1rem;}
  small { display: block; margin-top: -0.25rem; margin-bottom: 0.5rem;}
</style>
</html>